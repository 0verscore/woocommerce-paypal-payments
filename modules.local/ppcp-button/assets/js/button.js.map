{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/js/button.js","webpack:///./resources/js/modules/ButtonsToggleListener.js","webpack:///./resources/js/modules/CartConfig.js","webpack:///./resources/js/modules/ErrorHandler.js","webpack:///./resources/js/modules/Product.js","webpack:///./resources/js/modules/Renderer.js","webpack:///./resources/js/modules/SingleProductConfig.js","webpack:///./resources/js/modules/UpdateCart.js"],"names":["bootstrap","context","PayPalCommerceGateway","errorHandler","ErrorHandler","defaultConfigurator","CartConfig","document","querySelector","button","mini_cart_wrapper","renderer","Renderer","render","configuration","jQuery","body","on","order_button_wrapper","trigger","currentPaymentMethod","val","hide","show","wrapper","configurator","updateCart","UpdateCart","ajax","change_cart","endpoint","nonce","SingleProductConfig","showButtons","bind","hideButtons","console","error","addEventListener","script","createElement","setAttribute","url","event","append","ButtonsToggleListener","constructor","element","showCallback","hideCallback","observer","init","config","attributes","callback","classList","contains","MutationObserver","observe","disconnect","createOrder","data","actions","fetch","create_order","method","JSON","stringify","purchase_units","then","res","json","success","id","onApprove","redirect","onError","message","text","add","innerText","sanitize","textarea","innerHTML","value","clear","remove","Product","quantity","variations","buttonConfig","paypal","Buttons","style","display","showButtonCallback","hideButtonCallback","formElement","hasVariations","getProducts","isGroupedProduct","qty","products","querySelectorAll","forEach","elementName","getAttribute","match","length","parseInt","push","onResolve","promise","update","map","name","Promise","resolve","reject","result","resolved"],"mappings":"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","file":"js/button.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./resources/js/button.js\");\n","import Renderer from './modules/Renderer';\nimport SingleProductConfig from './modules/SingleProductConfig';\nimport UpdateCart from './modules/UpdateCart';\nimport ErrorHandler from './modules/ErrorHandler';\nimport CartConfig from './modules/CartConfig';\n\nconst bootstrap = ()=> {\n    const context = PayPalCommerceGateway.context;\n    const errorHandler = new ErrorHandler();\n    const defaultConfigurator = new CartConfig(\n        PayPalCommerceGateway,\n        errorHandler\n    );\n    // Configure mini cart buttons\n    if (document.querySelector(PayPalCommerceGateway.button.mini_cart_wrapper)) {\n\n        const renderer = new Renderer(\n            PayPalCommerceGateway.button.mini_cart_wrapper\n        );\n        renderer.render(defaultConfigurator.configuration())\n    }\n    jQuery( document.body ).on( 'wc_fragments_loaded wc_fragments_refreshed', () => {\n        if (! document.querySelector(PayPalCommerceGateway.button.mini_cart_wrapper)) {\n            return;\n        }\n        const renderer = new Renderer(\n            PayPalCommerceGateway.button.mini_cart_wrapper\n        );\n        renderer.render(defaultConfigurator.configuration())\n    } );\n\n    // Configure checkout buttons\n    jQuery( document.body ).on( 'updated_checkout', () => {\n        const renderer = new Renderer(\n            PayPalCommerceGateway.button.order_button_wrapper\n        );\n        renderer.render(defaultConfigurator.configuration());\n\n        jQuery( document.body ).trigger( 'payment_method_selected' )\n    } );\n    jQuery( document.body ).on( 'payment_method_selected', () => {\n        // TODO: replace this dirty check, possible create a separate context config\n        const currentPaymentMethod = jQuery('input[name=\"payment_method\"]:checked').val();\n\n        if (currentPaymentMethod !== 'ppcp-gateway') {\n            jQuery(PayPalCommerceGateway.button.order_button_wrapper).hide();\n            jQuery('#place_order').show();\n        } else {\n            jQuery(PayPalCommerceGateway.button.order_button_wrapper).show();\n            jQuery('#place_order').hide();\n        }\n    } );\n\n    // Configure context buttons\n    if (! document.querySelector(PayPalCommerceGateway.button.wrapper)) {\n        return;\n    }\n    const renderer = new Renderer(\n        PayPalCommerceGateway.button.wrapper\n    );\n    let configurator = null;\n    if (context === 'product') {\n        if (! document.querySelector('form.cart')) {\n            return;\n        }\n        const updateCart = new UpdateCart(\n            PayPalCommerceGateway.ajax.change_cart.endpoint,\n            PayPalCommerceGateway.ajax.change_cart.nonce\n        );\n        configurator = new SingleProductConfig(\n            PayPalCommerceGateway,\n            updateCart,\n            renderer.showButtons.bind(renderer),\n            renderer.hideButtons.bind(renderer),\n            document.querySelector('form.cart'),\n            errorHandler\n        );\n    }\n    if (context === 'cart') {\n        configurator = defaultConfigurator;\n\n        jQuery( document.body ).on( 'updated_cart_totals updated_checkout', () => {\n            renderer.render(configurator.configuration())\n        });\n    }\n    if (! configurator) {\n        console.error('No context for button found.');\n        return;\n    }\n\n    renderer.render(configurator.configuration());\n}\ndocument.addEventListener(\n    'DOMContentLoaded',\n    () => {\n\n        if (! typeof(PayPalCommerceGateway)) {\n            console.error('PayPal button could not be configured.');\n            return;\n        }\n\n        const script = document.createElement('script');\n        script.setAttribute('src', PayPalCommerceGateway.button.url);\n        script.addEventListener('load', (event) => {\n            bootstrap();\n        })\n        document.body.append(script);\n\n\n    }\n);","/**\n * When you can't add something to the cart, the PayPal buttons should not show.\n * Therefore we listen for changes on the add to cart button and show/hide the buttons accordingly.\n */\n\nclass ButtonsToggleListener {\n    constructor(element, showCallback, hideCallback)\n    {\n        this.element = element;\n        this.showCallback = showCallback;\n        this.hideCallback = hideCallback;\n        this.observer = null;\n    }\n\n    init()\n    {\n        const config = { attributes : true };\n        const callback = () => {\n            if (this.element.classList.contains('disabled')) {\n                this.hideCallback();\n                return;\n            }\n            this.showCallback();\n        }\n        this.observer = new MutationObserver(callback);\n        this.observer.observe(this.element, config);\n    }\n\n    disconnect()\n    {\n        this.observer.disconnect();\n    }\n}\n\nexport default ButtonsToggleListener;","\n\nclass CartConfig {\n\n    constructor(config, errorHandler) {\n        this.config = config;\n        this.errorHandler = errorHandler;\n    }\n\n    configuration() {\n\n        const createOrder = (data, actions) => {\n            return fetch(this.config.ajax.create_order.endpoint, {\n                method: 'POST',\n                body: JSON.stringify({\n                    nonce: this.config.ajax.create_order.nonce,\n                    purchase_units:[]\n                })\n            }).then(function (res) {\n                return res.json();\n            }).then(function (data) {\n                if (!data.success) {\n                    //Todo: Error handling\n                    return;\n                }\n                return data.data.id;\n            });\n        }\n        const onApprove = (data, actions) => {\n            return actions.redirect(this.config.redirect);\n        }\n        return {\n            createOrder,\n            onApprove,\n            onError: (error) => {\n                this.errorHandler.message(error);\n            }\n        }\n    }\n}\n\nexport default CartConfig;","class ErrorHandler {\n\n    constructor()\n    {\n        this.wrapper = document.querySelector('.woocommerce-notices-wrapper');\n    }\n\n    message(text)\n    {\n        this.wrapper.classList.add('woocommerce-error');\n        this.wrapper.innerText = this.sanitize(text);\n    }\n\n    sanitize(text)\n    {\n        const textarea = document.createElement('textarea');\n        textarea.innerHTML = text;\n        return textarea.value;\n    }\n\n    clear()\n    {\n        if (! this.wrapper.classList.contains('woocommerce-error')) {\n            return;\n        }\n        this.wrapper.classList.remove('woocommerce-error');\n        this.wrapper.innerText = '';\n    }\n}\n\nexport default ErrorHandler;","class Product {\n\n    constructor(id, quantity, variations) {\n        this.id = id;\n        this.quantity = quantity;\n        this.variations = variations;\n    }\n\n    data() {\n        return {\n            id:this.id,\n            quantity:this.quantity,\n            variations:this.variations\n        }\n    }\n}\n\nexport default Product;","class Renderer {\n\n    constructor(wrapper)\n    {\n        this.wrapper = wrapper;\n    }\n\n    render(buttonConfig)\n    {\n\n        paypal.Buttons(\n            buttonConfig\n        ).render(this.wrapper);\n    }\n\n    hideButtons()\n    {\n        document.querySelector(this.wrapper).style.display = 'none';\n    }\n\n    showButtons()\n    {\n        document.querySelector(this.wrapper).style.display = 'block';\n    }\n}\n\nexport default Renderer;","import ButtonsToggleListener from \"./ButtonsToggleListener\";\nimport Product from \"./Product\";\nclass SingleProductConfig {\n\n    constructor(\n        config,\n        updateCart,\n        showButtonCallback,\n        hideButtonCallback,\n        formElement,\n        errorHandler\n    ) {\n        this.config = config;\n        this.updateCart = updateCart;\n        this.showButtonCallback = showButtonCallback;\n        this.hideButtonCallback = hideButtonCallback;\n        this.formElement = formElement;\n        this.errorHandler = errorHandler;\n    }\n\n    configuration()\n    {\n\n        if ( this.hasVariations() ) {\n            const observer = new ButtonsToggleListener(\n                this.formElement.querySelector('.single_add_to_cart_button'),\n                this.showButtonCallback,\n                this.hideButtonCallback\n            );\n            observer.init();\n        }\n        const onApprove = (data, actions) => {\n            return actions.redirect(this.config.redirect);\n        }\n        return {\n            createOrder: this.createOrder(),\n            onApprove,\n            onError: (error) => {\n                this.errorHandler.message(error);\n            }\n        }\n    }\n\n    createOrder()\n    {\n        var getProducts = null;\n        if (! this.isGroupedProduct() ) {\n            getProducts = () => {\n                const id = document.querySelector('[name=\"add-to-cart\"]').value;\n                const qty = document.querySelector('[name=\"quantity\"]').value;\n                const variations = this.variations();\n                return [new Product(id, qty, variations)];\n            }\n        } else {\n            getProducts = () => {\n                const products = [];\n                this.formElement.querySelectorAll('input[type=\"number\"]').forEach((element) => {\n                    if (! element.value) {\n                        return;\n                    }\n                    const elementName = element.getAttribute('name').match(/quantity\\[([\\d]*)\\]/);\n                    if (elementName.length !== 2) {\n                        return;\n                    }\n                    const id = parseInt(elementName[1]);\n                    const quantity = parseInt(element.value);\n                    products.push(new Product(id, quantity, null));\n                })\n                return products;\n            }\n        }\n        const createOrder = (data, actions) => {\n            this.errorHandler.clear();\n\n            const onResolve = (purchase_units) => {\n                return fetch(this.config.ajax.create_order.endpoint, {\n                    method: 'POST',\n                    body: JSON.stringify({\n                        nonce: this.config.ajax.create_order.nonce,\n                        purchase_units\n                    })\n                }).then(function (res) {\n                    return res.json();\n                }).then(function (data) {\n                    if (!data.success) {\n                        //Todo: Error handling\n                        return;\n                    }\n                    return data.data.id;\n                });\n            };\n\n            const promise = this.updateCart.update(onResolve, getProducts());\n            return promise;\n        };\n        return createOrder;\n    }\n\n    variations()\n    {\n\n        if (! this.hasVariations()) {\n            return null;\n        }\n        const attributes = [...this.formElement.querySelectorAll(\"[name^='attribute_']\")].map(\n            (element) => {\n            return {\n                    value:element.value,\n                    name:element.name\n                }\n            }\n        );\n        return attributes;\n    }\n\n    hasVariations()\n    {\n        return this.formElement.classList.contains('variations_form');\n    }\n\n    isGroupedProduct()\n    {\n        return this.formElement.classList.contains('grouped_form');\n    }\n}\n\nexport default SingleProductConfig;","import Product from \"./Product\";\nclass UpdateCart {\n\n    constructor(endpoint, nonce)\n    {\n        this.endpoint = endpoint;\n        this.nonce = nonce;\n    }\n\n    /**\n     *\n     * @param onResolve\n     * @param {Product[]} products\n     * @returns {Promise<unknown>}\n     */\n    update(onResolve, products)\n    {\n        return new Promise((resolve, reject) => {\n            fetch(\n                this.endpoint,\n                {\n                    method: 'POST',\n                    body: JSON.stringify({\n                        nonce: this.nonce,\n                        products,\n                    })\n                }\n            ).then(\n                (result) => {\n                return result.json();\n                }\n            ).then((result) => {\n                if (! result.success) {\n                    reject(result.data);\n                    return;\n                }\n\n                    const resolved = onResolve(result.data);\n                    resolve(resolved);\n                })\n        });\n    }\n}\n\nexport default UpdateCart;"],"sourceRoot":""}